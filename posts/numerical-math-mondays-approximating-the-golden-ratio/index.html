<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>Numerical Math Mondays: Approximating the golden ratio.</title><meta name=description content="The website of Daniel Furman"><meta name=author content="Daniel Furman"><link href="https://fonts.googleapis.com/css2?family=Inconsolata:wght@400;700&display=swap" rel=stylesheet><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css integrity=sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2 crossorigin=anonymous><link rel=stylesheet href=/sass/researcher.min.css><link rel=icon type=image/ico href=https://daniel-furman.github.io/favicon.ico></head><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css integrity=sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js integrity=sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4 crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js integrity=sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC+Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa crossorigin=anonymous onload=renderMathInElement(document.body)></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"\\[",right:"\\]",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1}]})})</script><body><div class="container mt-5"><nav class="navbar navbar-expand-sm flex-column flex-sm-row text-nowrap p-0"><a class="navbar-brand mx-0 mr-sm-auto" href=https://daniel-furman.github.io/>Daniel Furman</a><div class="navbar-nav flex-row flex-wrap justify-content-center"><a class="nav-item nav-link" href=/>About</a>
<span class="nav-item navbar-text mx-1">/</span>
<a class="nav-item nav-link" href=/posts>Posts</a>
<span class="nav-item navbar-text mx-1">/</span>
<a class="nav-item nav-link" href=/bookshelf>Bookshelf</a>
<span class="nav-item navbar-text mx-1">/</span>
<a class="nav-item nav-link" href=/resume>Resume</a>
<span class="nav-item navbar-text mx-1">/</span>
<a class="nav-item nav-link" href=/contact>Contact</a></div></nav></div><hr><div id=content><div class=container><h2 id=numerical-math-mondays-approximating-the-golden-ratio>Numerical Math Mondays: Approximating the golden ratio.</h2><hr><p><br><br></p><p>The first in hopefully what will be many Numerical Math Mondays. My goal for this series of posts is to dive back into my
numerical mathematics algorithms from my undergraduate studies. I am a huge fan of <a href=https://www.3blue1brown.com>3blue1brown</a>,
and so, I am looking to pay particular attention to the visual side of the mathematics.</p><p>I plan to repurpose my existing MATLAB programs across many different programming languages (Python, C++, R, and others). I am
excited to explore the capabilities of <a href=https://ai.facebook.com/blog/deep-learning-to-translate-between-programming-languages/>Facebook’s Transcoder AI software</a>, which I am guessing will work great for
some scripts and horribly for others (for example, where a language-specific package is heavily employed). It’s worth noting
that this series was in part inspired by the <a href=https://www.algorithm-archive.org>Algorithm Archive</a>, an open-source ebook
containing physical, mathematical, and computational algorithms implemented across dozens of programming languages.</p><p><br><br></p><h3 id=introducing-fibonacci-and-the-golden-ratio>Introducing Fibonacci and the golden ratio</h3><hr><p><br><br></p><p>I will start with a favorite among math and science circles: approximating the golden ratio by taking ratios of
consecutive terms in the Fibonacci sequence. This algorithm lets us peer into the underlying relationship between the
Fibonacci sequence and the golden ratio, helping us understand the many interesting applications therein. For more
reading on applications, see the appendix!</p><p>For a little background: What is the golden ratio anyways? Who was Fibonacci? The <a href="https://www.google.com/url?sa=t&rct=j&q=&esrc=s&source=web&cd=&ved=2ahUKEwjVsumck77wAhVFLX0KHdj1Di0QFjAJegQIAxAD&url=https%3A%2F%2Fen.wikipedia.org%2Fwiki%2FGolden_ratio&usg=AOvVaw2xWnjTV-SdFz2WkhAdaL-s">golden ratio</a> is a mathematical phenomenon between two numbers, say, a and b. Let a > b,
if the ratio of <span class=math>\(\frac{a}{b}\)</span> is the same as <span class=math>\(\frac{(a+b)}{a}\)</span>, then the ratio is <span class=math>\(\frac{~1.618}{1}\)</span>. This number is irrational, i.e., its decimal places never converge, classically denoted by the Greek letter phi, <span class=math>\(\varphi\)</span>. It was probably
first discovered in Ancient Greece (likely through geometry, which the Greeks were quite into). Greek mathematicians
determined <span class=math>\(\varphi\)</span> was an irrational number all the way back in the fifth century BC.</p><ul><li>It’s worth noting, <span class=math>\(\varphi\)</span> is precisely the positive root of the quadratic equation x<span class=math>\(^2\)</span> - x - 1 = 0. Upon solving the equation we obtain <span class=math>\(x = \frac{1 + 5^{0.5}}{2}\)</span>.</li></ul><p>Fibonacci numbers are closely related to the golden ratio, <span class=math>\(\varphi\)</span>. The first two Fibonacci numbers are zero and one. Each consecutive term is the sum of the previous two, i.e., the third term is also one, because 0+1=1. The first few terms are (0, 1, 1, 2, 3, 5, 8, 13, 21). The ratio of consecutive terms closely mirrors <span class=math>\(\varphi\)</span>, and the approximations get increasingly more accurate. Hmm, this seems like an important property if we, say, wanted to approximate the golden ratio!</p><p><br><br></p><h3 id=the-algorithm>The algorithm</h3><hr><p><br><br></p><p>Lets cook up a simple sequence of operations exploiting the last feature of the Fibonacci numbers discussed above. We want to approximate <span class=math>\(\varphi\)</span> to a high degree of accuracy; thus, we will design the algorithm to run until we converge on <a href=https://en.wikipedia.org/wiki/Machine_epsilon>the computer’s epsilon (<span class=math>\(\varepsilon\)</span>) error</a>, i.e., the smallest digit recorded by my 64-bit Mac. Upon running the algorithm, we find that it takes 39 iterations for the approximation errors to converge to <span class=math>\(\varepsilon\)</span>.</p><p><br><br></p><p><strong>Python implementation</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-python data-lang=python><span class=c1>### Libraries ###</span>
<span class=kn>import</span> <span class=nn>numpy</span> <span class=kn>as</span> <span class=nn>np</span>
<span class=kn>import</span> <span class=nn>matplotlib.pyplot</span> <span class=kn>as</span> <span class=nn>plt</span>

<span class=c1>### Var Init ###</span>
<span class=n>phi</span> <span class=o>=</span> <span class=p>(</span><span class=mi>1</span><span class=o>+</span><span class=mi>5</span><span class=o>**</span><span class=mf>0.5</span><span class=p>)</span><span class=o>/</span><span class=mi>2</span> <span class=c1># this is golden ratio</span>
<span class=n>tol</span> <span class=o>=</span> <span class=mf>1e-16</span> <span class=c1>#tolerance</span>
<span class=n>fib</span><span class=p>,</span> <span class=n>ratio</span><span class=p>,</span> <span class=n>erval</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(),</span> <span class=nb>list</span><span class=p>(),</span> <span class=nb>list</span><span class=p>()</span>
<span class=n>fib</span><span class=o>.</span><span class=n>extend</span><span class=p>([</span><span class=mi>0</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>1</span><span class=p>])</span>
<span class=n>erval</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
<span class=n>n</span> <span class=o>=</span> <span class=mi>0</span> <span class=c1>#iterator</span>

<span class=c1>### While Loop ###</span>
<span class=k>while</span> <span class=n>erval</span><span class=p>[</span><span class=n>n</span><span class=p>]</span> <span class=o>&gt;=</span> <span class=n>tol</span><span class=p>:</span>
    <span class=n>fib</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>fib</span><span class=p>[</span><span class=n>n</span><span class=o>+</span><span class=mi>2</span><span class=p>]</span><span class=o>+</span><span class=n>fib</span><span class=p>[</span><span class=n>n</span><span class=o>+</span><span class=mi>1</span><span class=p>])</span> <span class=c1># calculates next fib number</span>
    <span class=n>ratio</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>fib</span><span class=p>[</span><span class=n>n</span><span class=o>+</span><span class=mi>3</span><span class=p>]</span><span class=o>/</span><span class=n>fib</span><span class=p>[</span><span class=n>n</span><span class=o>+</span><span class=mi>2</span><span class=p>])</span> <span class=c1># ratio between cons. terms</span>
    <span class=n>erval</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>abs</span><span class=p>(</span><span class=n>ratio</span><span class=p>[</span><span class=n>n</span><span class=p>]</span><span class=o>-</span><span class=n>phi</span><span class=p>))</span> <span class=c1># absolute error</span>
    <span class=n>n</span> <span class=o>+=</span> <span class=mi>1</span>

<span class=c1>### Tests ###</span>
<span class=k>assert</span> <span class=n>erval</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span> <span class=o>==</span> <span class=mf>0.0</span> <span class=c1># absolute error equal to 0.0</span>
<span class=k>if</span> <span class=n>ratio</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span> <span class=o>==</span> <span class=n>phi</span><span class=p>:</span>  <span class=c1># the golden ratio</span>
    <span class=k>print</span><span class=p>(</span><span class=s1>&#39;done&#39;</span><span class=p>)</span></code></pre></td></tr></table></div></div><p><br><br></p><p align=center><img src=/posts/fib-errors.png / width=550 height=431></p><p><strong>Figure 1</strong>. The absolute error between our Fibonacci ratio approximation and the golden ratio itself.
Notice that the errors trend towards zero, indicating that our approximations are getting closer and closer
to the solution.</p><p><br><br></p><h3 id=appendix-more-reading>Appendix: More Reading</h3><hr><ul><li><p>A well written Pixa article on <a href=https://www.pixpa.com/blog/golden-ratio>photography and design applications of the golden ratio</a>. Is the golden ratio the genesis of photography’s rule of thirds? How close do natural patterns adhere to the golden ratio?</p></li><li><p>A visualizations/applications oriented Ted talk on <a href="https://www.google.com/url?sa=t&rct=j&q=&esrc=s&source=web&cd=&ved=2ahUKEwjoi6TiiL7wAhUzFTQIHb2TAdgQtwIwA3oECAQQAw&url=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3DSjSHVDfXHQ4&usg=AOvVaw2LofPkoDFw8s3EFUlOPdbe">using the Fibonacci numbers in magical ways</a>.</p></li><li><p>The coolest golden ratio visualization application, IMO, is the <a href=https://mathworld.wolfram.com/GoldenSpiral.html>golden spiral</a>, which is obtained by ... .</p></li></ul><h3 id=appendix-more-code>Appendix: More Code</h3><hr><p>MATLAB implementation:</p><pre><code>format long e
clear all; clc; clf;
phi = (1+sqrt(5))/2; % the golden ratio
tol = eps; % computer epsilon error tolerance
z = ones(3,3);  
n = 2; %iterator
while z(n,3) &gt;= tol
  n = n+1; 
  z(n,1) = z(n-1,1)+z(n-2,1); % nth Fibonacci
  z(n,2) = z(n,1)/z(n-1,1); % consecutive terms ratio
  z(n,3) = abs(z(n,2)-phi); % absolute error
end

fib = z(:,1);
ratio = z(:,2);
erval = z(:,3);

T = table(fib, ratio, erval)</code></pre></div></div><html><body><div id=footer class=mb-5><hr><div class="container text-center"><a href=https://daniel-furman.github.io/><small>By Daniel Furman</small></a></div></div></body><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.10.0-rc.1/dist/katex.min.css integrity=sha384-D+9gmBxUQogRLqvARvNLmA9hS2x//eK1FhVb9PiU86gmcrBrJAQT8okdJ4LMp2uv crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.10.0-rc.1/dist/katex.min.js integrity=sha384-483A6DwYfKeDa0Q52fJmxFXkcPCFfnXMoXblOkJ4JcA8zATN6Tm78UNL72AKk+0O crossorigin=anonymous></script></html></body></html>